(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{107:function(e,t,a){},108:function(e,t,a){},109:function(e,t,a){},155:function(e,t,a){},156:function(e,t,a){},164:function(e,t,a){"use strict";a.r(t);var i=a(1),n=a(0),r=a.n(n),c=a(31),s=a.n(c),l=(a(107),a(108),a(44)),o=a(7),d=a(98),j=(a(109),a(6)),b=function(){return Object(i.jsxs)(j.b.div,{initial:{opacity:0},animate:{opacity:1},transition:{type:"spring"},className:"home-container",children:[Object(i.jsx)("header",{className:"main-header",children:"CryptoLunch"}),Object(i.jsx)("header",{style:{marginBottom:"30px"},className:"sub-header",children:"Decentralized application that splits your bill anonymously!"}),Object(i.jsx)(l.b,{to:"/host",children:Object(i.jsx)(d.a,{size:"large",shape:"round",type:"primary",children:"Create a Bill!"})})]})},u=a(66),p=a(11),h=a(87),m=a.n(h),x=a(170),O=a(177),y=a(169),v=a(171),f=a(172),g=a(174),N=a(176),C=a(173),w=a(175),z=a(178),k=function(e){return Object(i.jsx)(y.a,{size:"large",className:e.className,prefix:e.prefix,onChange:function(t){var a=t.target.value;(!isNaN(a)&&/^([1-9]{1}[0-9]{0,2}(,\d{3})*(\.\d{0,2})?|[1-9]{1}\d{0,}(\.\d{0,2})?|0(\.\d{0,2})?|(\.\d{1,2}))$|^-?\$?([1-9]{1}\d{0,2}(,\d{3})*(\.\d{0,2})?|[1-9]{1}\d{0,}(\.\d{0,2})?|0(\.\d{0,2})?|(\.\d{1,2}))$|^\(\$?([1-9]{1}\d{0,2}(,\d{3})*(\.\d{0,2})?|[1-9]{1}\d{0,}(\.\d{0,2})?|0(\.\d{0,2})?|(\.\d{1,2}))\)$/.test(a)||""===a)&&e.onChange(a,e.index)},value:e.value,placeholder:e.placeholder,maxLength:25})};function S(){var e=window;return{width:e.innerWidth,height:e.innerHeight}}var $=a(65),P=(a(154),a(155),a(156),function(){return Object(i.jsxs)("div",{className:"loader",children:[Object(i.jsx)("img",{className:"loader__animated",src:"https://image.flaticon.com/icons/svg/561/561071.svg",alt:"Loading"}),Object(i.jsx)("img",{src:"https://image.flaticon.com/icons/svg/560/560969.svg",alt:"Loading"})]})}),L=function(){var e=function(){var e=Object(n.useState)(S()),t=Object(p.a)(e,2),a=t[0],i=t[1];return Object(n.useEffect)((function(){function e(){i(S())}return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[]),a}().width,t=Object(n.useState)({}),a=Object(p.a)(t,2),r=a[0],c=a[1],s=Object(n.useState)({}),l=Object(p.a)(s,2),b=l[0],h=l[1],L=Object(n.useState)(""),A=Object(p.a)(L,2),F=A[0],B=A[1],E=Object(n.useState)(0),T=Object(p.a)(E,2),_=T[0],D=T[1],W=Object(n.useState)(""),I=Object(p.a)(W,2),J=I[0],q=I[1],G=Object(n.useState)(""),H=Object(p.a)(G,2),M=H[0],R=H[1],Y=Object(n.useState)([0,0]),K=Object(p.a)(Y,2),Q=Object(p.a)(K[0],2),U=Q[0],V=(Q[1],K[1]),X=Object(n.useState)(""),Z=Object(p.a)(X,2),ee=Z[0],te=Z[1],ae=Object(n.useState)(""),ie=Object(p.a)(ae,2),ne=ie[0],re=ie[1],ce=Object(n.useState)(0),se=Object(p.a)(ce,2),le=se[0],oe=se[1],de=Object(n.useState)(!1),je=Object(p.a)(de,2),be=(je[0],je[1],Object(n.useState)(!0)),ue=Object(p.a)(be,2),pe=ue[0],he=ue[1],me=(Object(n.useRef)(null),function(e,t){0===t?(0!==e.length&&(3===le?oe(2):1===le?oe(0):11===le?oe(9):12===le&&oe(10)),B(e)):1===t?(0!==e.target.value.length&&(3===le?oe(1):2===le?oe(0):10===le?oe(9):12===le&&oe(11)),q(e.target.value)):2===t?(0!==e.target.value.length&&(6===le?oe(5):4===le&&oe(0)),re(e.target.value)):3===t?(0!==e.length&&(6===le?oe(4):5===le&&oe(0)),te(e)):4===t&&(0!==e.target.value.length&&(11===le?oe(1):10===le?oe(2):9===le?oe(0):12===le&&oe(3)),R(e.target.value))}),xe=function(e){if(U+e===1){if(""===F&&""===J&&""===M)return x.b.error("Please fill out all fields."),void oe(12);if(""===F&&""===J)return x.b.error("Please fill out wallet and bill fields."),void oe(3);if(""===F&&""===M)return x.b.error("Please fill out bill and name fields."),void oe(11);if(""===J&&""===M)return x.b.error("Please fill out wallet and name fields."),void oe(10);if(""===F)return x.b.error("Please enter a bill amount."),void oe(1);if(""===J)return x.b.error("Please enter a wallet address."),void oe(2);if(""===M)return x.b.error("Please enter your name."),void oe(9)}else if(U+e===2){if(0===Object.keys(b).length&&b.constructor===Object)return x.b.error("Please add at least one person."),void oe(6);if(_>parseFloat(F))return x.b.error("Amount added ($".concat(_,") exceeds bill amount ($").concat(F,")!\nDelete some people (swipe right).")),void oe(0);!function(){he(!0);var e={};e.bill_amount=F,e.wallet_address=J,e.people=Object(u.a)({},b),e.requester_name=M,m.a.post("http://localhost:3000/api/makepool",e).then((function(e){c(e.data),he(!1)}))}()}oe(0),V([U+e,e])},Oe=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(t){var a=e+" - $"+r.amount,i=document.createElement("textarea");i.value=a,i.setAttribute("readonly",""),i.style.position="absolute",i.style.left="-9999px",document.body.appendChild(i),i.select(),document.execCommand("copy"),document.body.removeChild(i),x.b.info("Copied address!")}else{var n=e+" - $"+r[e],c=document.createElement("textarea");c.value=n,c.setAttribute("readonly",""),c.style.position="absolute",c.style.left="-9999px",document.body.appendChild(c),c.select(),document.execCommand("copy"),document.body.removeChild(c),x.b.info("Copied ".concat(e,"'s key!"))}},ye=function(e){if(0!==Object.keys(e).length){var t="";for(var a in t+="Pay to ".concat(e.address," - $").concat(e.amount,"\n"),e.people)t+="".concat(a," - $").concat(b[a],"\n");var i=document.createElement("textarea");i.value=t,i.setAttribute("readonly",""),i.style.position="absolute",i.style.left="-9999px",document.body.appendChild(i),i.select(),document.execCommand("copy"),document.body.removeChild(i),x.b.info("Copied all keys!")}};return Object(i.jsxs)(j.b.div,{initial:{opacity:0},animate:{opacity:1},transition:{type:"spring"},children:[Object(i.jsxs)("div",{className:"back-button",children:[-1===U&&Object(i.jsx)(o.a,{to:"/"}),U>-1&&Object(i.jsx)(d.a,{style:{color:"rgb(62, 247, 62)",marginBottom:"3%"},onClick:function(){return xe(-1)},icon:Object(i.jsx)(g.a,{style:{fontSize:"2em"}}),type:"text",shape:"round"})]}),Object(i.jsx)("div",{className:"content-container",children:Object(i.jsxs)(j.a,{initial:!1,exitBeforeEnter:!0,children:[0===U&&Object(i.jsxs)(j.b.div,{initial:{x:e,opacity:0},animate:{x:0,opacity:1},exit:{x:-e,opacity:0},transition:{type:"spring",duration:.6},children:[Object(i.jsx)("header",{className:"header",children:"Create a Bill"}),Object(i.jsxs)(O.b,{direction:"vertical",children:[Object(i.jsx)(j.b.div,{animate:{scale:1===le||3===le||11===le||12===le?[1.05,1]:1},transition:{repeat:1===le||3===le||11===le||12===le?1/0:0,repeatType:"mirror"},className:"input",children:Object(i.jsx)(k,{className:"round-border",onChange:me,index:0,prefix:"$",placeholder:"Bill Amount",value:F})}),Object(i.jsx)(j.b.div,{animate:{scale:2===le||3===le||12===le||10===le?[1.05,1]:1},transition:{repeat:2===le||3===le||12===le||10===le?1/0:0,repeatType:"mirror"},className:"input",children:Object(i.jsx)(y.a,{className:"round-border",maxLength:64,onChange:function(e){return me(e,1)},prefix:Object(i.jsx)(N.a,{}),size:"large",placeholder:"Wallet Address",value:J})}),Object(i.jsx)(j.b.div,{animate:{scale:9===le||11===le||12===le||10===le?[1.05,1]:1},transition:{repeat:9===le||3===le||11===le||12===le||10===le?1/0:0,repeatType:"mirror"},className:"input",children:Object(i.jsx)(y.a,{className:"round-border",maxLength:64,onChange:function(e){return me(e,4)},prefix:Object(i.jsx)(C.a,{}),size:"large",placeholder:"Name",value:M})}),Object(i.jsx)(d.a,{onClick:function(){return xe(1)},type:"primary",shape:"round",size:"large",children:"Next"})]})]},"page-0"),1===U&&Object(i.jsxs)(j.b.div,{initial:{x:e,opacity:0},animate:{x:0,opacity:1},exit:{x:-e,opacity:0},transition:{type:"spring",duration:.6},children:[Object(i.jsxs)("header",{className:"header",children:["Who owes you?",Object(i.jsx)("header",{className:"sub-header",children:"(Swipe right to delete)"}),Object(i.jsxs)("header",{className:"sub-header ".concat(8===le?"red":""),children:["Pool: $",_]}),Object(i.jsxs)("header",{className:"sub-header",children:["Bill: $",F]})]}),Object(i.jsxs)(O.b,{direction:"vertical",children:[Object(i.jsx)(j.b.div,{animate:{scale:6===le?[1.05,1]:1},transition:{repeat:6===le?1/0:0,repeatType:"mirror"},className:"input-full",children:Object(i.jsx)(y.a.Group,{size:"large",children:Object(i.jsxs)(v.a,{gutter:0,children:[Object(i.jsx)(f.a,{span:16,children:Object(i.jsx)(j.b.div,{animate:{scale:4===le?[1.05,1]:1},transition:{repeat:4===le?1/0:0,repeatType:"mirror"},children:Object(i.jsx)(y.a,{className:"left-round-border",prefix:Object(i.jsx)(w.a,{}),value:ne,size:"large",onChange:function(e){return me(e,2)},placeholder:"E-mail"})})}),Object(i.jsx)(f.a,{span:8,children:Object(i.jsx)(j.b.div,{animate:{scale:5===le?[1.05,1]:1},transition:{repeat:5===le?1/0:0,repeatType:"mirror"},children:Object(i.jsx)(k,{className:"right-round-border",onChange:function(e){return me(e,3)},prefix:"$",placeholder:"owed",value:ee})})})]})})}),Object(i.jsxs)("div",{className:"button-group",children:[Object(i.jsx)(d.a,{onClick:function(e){if(""===ee&&""===ne)x.b.error("Please fill out both fields."),oe(6);else if(""===ee)x.b.error("Please enter the amount owed."),oe(5);else if(""===ne)x.b.error("Please enter a valid e-mail."),oe(4);else if(ne in b)x.b.error("Duplicate e-mail detected."),oe(7);else if(/[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/.test(ne)){var t=parseFloat(_)+parseFloat(ee);t>F?(x.b.warning("You've exceeded your bill amount!"),oe(8)):oe(0);var a=b;a[ne]=ee,h(a),D(t),re(""),te("")}else x.b.error("Please enter a valid e-mail."),oe(4)},type:"primary",shape:"round",size:"large",children:"Add"}),Object(i.jsx)(d.a,{onClick:function(){return xe(1)},type:"primary",shape:"round",size:"large",children:"Finish"})]}),Object(i.jsx)(j.a,{initial:!1,children:0!==Object.keys(b).length&&Object(i.jsx)(j.b.div,{className:"list-container",initial:{x:e,opacity:0},animate:{x:0,opacity:1},exit:{x:-e,opacity:0},transition:{type:"spring",duration:1.5},children:Object(i.jsx)($.SwipeableList,{threshold:.18,children:Object(i.jsx)(j.a,{initial:!1,children:Object.keys(b).map((function(e,t){return Object(i.jsx)(j.b.div,{className:"list-item",animate:{opacity:1},exit:{opacity:0},transition:{type:"spring",duration:.2},children:Object(i.jsx)($.SwipeableListItem,{swipeLeft:{content:Object(i.jsx)("div",{className:"delete",children:"Delete"}),action:function(){return function(e){var t=Object(u.a)({},b),a=parseFloat(_)-parseFloat(t[e]);a<=F&&oe(0),delete t[e],h(t),D(a)}(e)}},children:Object(i.jsxs)("div",{className:"list-item",children:[Object(i.jsxs)("div",{children:[e," "]}),Object(i.jsxs)("div",{children:["$",b[e]]})]})})},t)}))})})})})]})]},"page-1"),2===U&&Object(i.jsxs)(j.b.div,{initial:{x:e,opacity:0},animate:{x:0,opacity:1},exit:{x:-e,opacity:0},transition:{type:"spring",duration:.6},children:[Object(i.jsx)("header",{className:"header",children:"Deploying Smart Contract!"}),Object(i.jsxs)(j.a,{children:[pe&&Object(i.jsx)(j.b.div,{initial:{opacity:0},animate:{x:0,opacity:1},exit:{opacity:0},transition:{type:"spring",duration:1.5},children:Object(i.jsx)(P,{})}),!pe&&void 0!==r.address&&Object(i.jsxs)("div",{children:[Object(i.jsxs)("header",{className:"sub-header",children:["Smart contract pending! :)",Object(i.jsx)("br",{}),"Please pay a small fee to deploy the smart contract to the address below! (Currency in Wei)"]}),Object(i.jsx)(j.b.div,{initial:{opacity:0},animate:{x:0,opacity:1},exit:{opacity:0},transition:{type:"spring",duration:1.5},children:Object(i.jsxs)(O.b,{direction:"vertical",children:[Object(i.jsxs)("div",{className:"list-container",children:[Object(i.jsxs)("div",{className:"list-item",onClick:function(){return Oe(r.address,!0)},children:[Object(i.jsxs)("div",{children:["Pay to: ",r.address," "]}),Object(i.jsxs)("div",{children:[r.amount," wei"]})]}),Object.keys(r.people).map((function(e){return Object(i.jsxs)("div",{className:"list-item",onClick:function(){return Oe(e)},children:[Object(i.jsxs)("div",{children:[" ",e," "]}),Object(i.jsxs)("div",{children:["$",b[e]]})]},e)}))]}),Object(i.jsxs)("div",{className:"button-group",children:[Object(i.jsx)(d.a,{onClick:function(){return ye(r)},type:"primary",shape:"round",icon:Object(i.jsx)(z.a,{}),size:"large",children:"Copy All"}),Object(i.jsx)(d.a,{onClick:function(){return V([-1,0])},type:"primary",shape:"round",size:"large",children:"Start Over"})]})]})})]}),!pe&&void 0===r.address&&Object(i.jsxs)("div",{children:[Object(i.jsxs)("header",{className:"sub-header",children:["Smart contract successfully deployed :)",Object(i.jsx)("br",{}),"Tell your friends to check their emails!"]}),Object(i.jsx)(j.b.div,{initial:{opacity:0},animate:{x:0,opacity:1},exit:{opacity:0},transition:{type:"spring",duration:1.5},children:Object(i.jsxs)(O.b,{direction:"vertical",children:[Object(i.jsx)("div",{className:"list-container",children:Object.keys(r.people).map((function(e){return Object(i.jsxs)("div",{className:"list-item",onClick:function(){return Oe(e)},children:[Object(i.jsxs)("div",{children:[" ",e," "]}),Object(i.jsxs)("div",{children:["$",b[e]]})]},e)}))}),Object(i.jsxs)("div",{className:"button-group",children:[Object(i.jsx)(d.a,{onClick:function(){return ye(r)},type:"primary",shape:"round",icon:Object(i.jsx)(z.a,{}),size:"large",children:"Copy All"}),Object(i.jsx)(d.a,{onClick:function(){return V([-1,0])},type:"primary",shape:"round",size:"large",children:"Start Over"})]})]})})]})]})]},"page-2")]})})]})};a(163);var A=function(){return Object(i.jsx)("div",{className:"App",children:Object(i.jsx)(l.a,{children:Object(i.jsxs)(o.d,{children:[Object(i.jsx)(o.b,{path:"/",component:b,exact:!0}),Object(i.jsx)(o.b,{path:"/host",component:L})]})})})},F=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,179)).then((function(t){var a=t.getCLS,i=t.getFID,n=t.getFCP,r=t.getLCP,c=t.getTTFB;a(e),i(e),n(e),r(e),c(e)}))};s.a.render(Object(i.jsx)(r.a.StrictMode,{children:Object(i.jsx)(A,{})}),document.getElementById("root")),F()}},[[164,1,2]]]);
//# sourceMappingURL=main.d6e023b8.chunk.js.map